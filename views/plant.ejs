<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Plant info</title>
</head>
<body>
    <span id="usern-shower">Logged in as </span>
    <a href="/logout">iziet</a>
    <a href="/">Atgriezties augu sarakstā</a>
    <h1>Hello, I am <%= plant.name %>!</h1>
    <p>Plant Name: <%= plant.name %></p>
    <p>Summer Location: <%= plant.summer_location %></p>
    <p>Schooltime Location: <%= plant.schooltime_location %></p>
    <p>Watering Frequency: <%= plant.frequency %></p>
    <form action="/newlog" method="post">
        <input type="hidden" name="plantId" value="<%= plant.plant_id %>">
        <select id="logtype" name="logType">
            <option value="Laistīšana">Laistīšana</option>
            <option value="Cits">Cits</option>
        </select>
        <input type="text" id="loginput" name="logInput" placeholder="Papildus informācija(nav obligāta)">
        <input type="submit" id="submit" value="Iesniegt">
    </form>
    <h1>Logs for Plant: <%= plant.name %></h1>
    <ul>
        <% logs.forEach(log => { %>
            <li>
                <strong>Time:</strong> <%= log.time %><br>
                <strong>Type:</strong> <%= log.type %><br>
                <strong>Content:</strong> <%= log.content %>
            </li>
        <% }) %>
    </ul>
    <script>
    fetch('/user')
    .then(response => response.json())
    .then(data => {
      const usernameShower = document.getElementById('usern-shower');
      usernameShower.innerHTML = `Logged in as ${data.username}`;
    })
    .catch(error => console.error('Error:', error));
    </script>
</body>
</html>
